<% 
  ddns_settings = DdnsSettings.instance
  ddns_status = ddns_settings.status
  last_update = ddns_settings.last_update
%>

<div class="px-2 py-1">
  <%= link_to "#", class: "text-gray-300 hover:bg-gray-700 hover:text-white group flex items-center px-2 py-2 text-sm font-medium rounded-md relative", 
                   title: ddns_status_tooltip(ddns_status, last_update) do %>
    
    <!-- DDNS Icon -->
    <svg class="text-gray-400 mr-3 h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9m0 9a9 9 0 01-9-9m9 9c0 5-4 9-9 9s-9-4-9-9m9 9a9 9 0 009-9"/>
    </svg>
    
    <!-- Status Text -->
    <span class="flex-1">Dynamic DNS</span>
    
    <!-- Status Indicator -->
    <div class="ml-2 flex items-center">
      <% case ddns_status %>
      <% when :healthy %>
        <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse" title="Healthy"></div>
      <% when :updating %>
        <div class="w-2 h-2 bg-yellow-400 rounded-full animate-pulse" title="Updating"></div>
      <% when :error %>
        <div class="w-2 h-2 bg-red-400 rounded-full animate-pulse" title="Error"></div>
      <% when :disabled %>
        <div class="w-2 h-2 bg-gray-500 rounded-full" title="Disabled"></div>
      <% else %>
        <div class="w-2 h-2 bg-gray-500 rounded-full" title="Unknown"></div>
      <% end %>
    </div>
  <% end %>
</div>
